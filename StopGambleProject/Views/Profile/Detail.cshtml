@using Microsoft.AspNetCore.Identity
@using Project.Data.Models
@model StopGambleProject.Models.ApplicationUser.ProfileModel

@inject UserManager<ApplicationUser> UserManager

<div class="ui main text container" style="padding-top:25px;">
    <h1 class="ui header">
        User Profile Page - @Model.UserName
        @if (User.IsInRole("Admin") && @Model.IsAdmin == false)
        {
            <a href="" class="ui red button">Deactivate User</a>
        }
    </h1>
            <img class="wireframe" src="@Model.ProfileImageUrl">

    @if (User.Identity.Name == Model.UserName)
    {
        <form method="post" enctype="multipart/form-data" asp-controller="Profile" asp-action="UploadProfileImage">
            <label class="ui blue button">
                Browse <input type="file" name="file" style="display: none"/>
            </label>
            <button type="submit" class="ui red button">Upload</button>
        </form>
    }
    <br>
    @if (Model.IsAdmin)
    {
        <p>Role: <span style="color:red">Admin</span></p>
    }
    <p>Rating: @Model.UserRating</p>
    <p>Email: @Model.Email</p>
    <p>Registered: @Model.MemberSince.ToString()</p>
</div>